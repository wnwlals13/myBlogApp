{"ast":null,"code":"var _jsxFileName = \"/Users/joojimin/Desktop/jimin/project/blogApp/src/utils/navbar/navbar.jsx\",\n  _s = $RefreshSig$();\nimport React, { memo, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport MyModal from \"../../components/myModal/myModal\";\nimport Sidebar from \"../sidebar/sidebar\";\nimport styles from \"./navbar.module.css\";\nimport LoginModal from \"../../components/loginModal/loginModal\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Navbar = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(({\n  authService,\n  dbService,\n  onLogin\n}) => {\n  _s();\n  const [userId, setUserId] = useState(null);\n  const [name, setName] = useState(null);\n  const [email, setEmail] = useState(null);\n  const [display, setDisplay] = useState(false); //✨modal띄우기 display state를 설정해서 해결!\n  const [status, setStatus] = useState(false);\n  const [menu, setMenu] = useState([]);\n  const history = useHistory();\n  const sidebarRef = useRef();\n  const onBtnClick = () => {\n    setDisplay(true);\n  };\n  const onLogout = () => {\n    authService.logout();\n    setName(null);\n    setDisplay(false);\n  };\n  const onMouseMove = () => {\n    setDisplay(true);\n  };\n  const onMouseLeave = () => {\n    setDisplay(false);\n  };\n  const goToHome = () => {\n    history.push({\n      pathname: \"/\",\n      state: {\n        id: userId || null,\n        name: name || null,\n        email: email || null\n      }\n    });\n  };\n  const slideSidebar = () => {\n    sidebarRef.current.className = `${styles.sideSection} ${styles.show}`;\n    // console.log(sidebarRef.current.className);\n  };\n  const hideSidebar = e => {\n    console.log(e.target);\n  };\n  useEffect(() => {\n    authService.onAuthChange(user => {\n      user && setName(user.displayName);\n      user && setEmail(user.email);\n      user && setUserId(user.uid);\n    });\n    // dbService.readAllContent().then(function (snapshot) {\n    //   if (snapshot.exists()) {\n    //     snapshot.forEach((child) => {\n    //       const results = child.val();\n    //       Object.keys(results).forEach((item) => {\n    //         results[item].hashtag.map((each) => {\n    //           setMenu((menu) => {\n    //             const update = [...menu, each];\n    //             return update;\n    //           });\n    //         });\n    //       });\n    //     });\n    //   }\n    // });\n  }, [authService]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.logo,\n        onClick: goToHome,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: sidebarRef,\n          className: styles.sidebarContainer,\n          onClick: hideSidebar,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sidebarInner,\n            children: /*#__PURE__*/_jsxDEV(Sidebar, {\n              menu: menu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.sidebar,\n          onClick: slideSidebar,\n          children: \"Jemlog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.search,\n        children: [name && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.user,\n          onClick: onBtnClick,\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), !name && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.user,\n          onClick: () => history.push(\"/login\"),\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: `${styles.container} ${display ? styles.show : undefined}`,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        children: /*#__PURE__*/_jsxDEV(MyModal, {\n          onLogout: onLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}, \"1xv62YCh0OBRR5hbXFDTBC1PfFk=\", false, function () {\n  return [useHistory];\n})), \"1xv62YCh0OBRR5hbXFDTBC1PfFk=\", false, function () {\n  return [useHistory];\n});\n_c2 = Navbar;\nexport default Navbar;\nvar _c, _c2;\n$RefreshReg$(_c, \"Navbar$memo\");\n$RefreshReg$(_c2, \"Navbar\");","map":{"version":3,"names":["React","memo","useEffect","useRef","useState","useHistory","MyModal","Sidebar","styles","LoginModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","_s","_c","authService","dbService","onLogin","userId","setUserId","name","setName","email","setEmail","display","setDisplay","status","setStatus","menu","setMenu","history","sidebarRef","onBtnClick","onLogout","logout","onMouseMove","onMouseLeave","goToHome","push","pathname","state","id","slideSidebar","current","className","sideSection","show","hideSidebar","e","console","log","target","onAuthChange","user","displayName","uid","children","header","logo","onClick","ref","sidebarContainer","sidebarInner","fileName","_jsxFileName","lineNumber","columnNumber","sidebar","search","container","undefined","_c2","$RefreshReg$"],"sources":["/Users/joojimin/Desktop/jimin/project/blogApp/src/utils/navbar/navbar.jsx"],"sourcesContent":["import React, { memo, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport MyModal from \"../../components/myModal/myModal\";\nimport Sidebar from \"../sidebar/sidebar\";\nimport styles from \"./navbar.module.css\";\nimport LoginModal from \"../../components/loginModal/loginModal\";\n\nconst Navbar = memo(({ authService, dbService, onLogin }) => {\n  const [userId, setUserId] = useState(null);\n  const [name, setName] = useState(null);\n  const [email, setEmail] = useState(null);\n  const [display, setDisplay] = useState(false); //✨modal띄우기 display state를 설정해서 해결!\n  const [status, setStatus] = useState(false);\n  const [menu, setMenu] = useState([]);\n  const history = useHistory();\n  const sidebarRef = useRef();\n\n  const onBtnClick = () => {\n    setDisplay(true);\n  };\n  const onLogout = () => {\n    authService.logout();\n    setName(null);\n    setDisplay(false);\n  };\n\n  const onMouseMove = () => {\n    setDisplay(true);\n  };\n  const onMouseLeave = () => {\n    setDisplay(false);\n  };\n\n  const goToHome = () => {\n    history.push({\n      pathname: \"/\",\n      state: {\n        id: userId || null,\n        name: name || null,\n        email: email || null,\n      },\n    });\n  };\n  const slideSidebar = () => {\n    sidebarRef.current.className = `${styles.sideSection} ${styles.show}`;\n    // console.log(sidebarRef.current.className);\n  };\n  const hideSidebar = (e) => {\n    console.log(e.target);\n  };\n\n  useEffect(() => {\n    authService.onAuthChange((user) => {\n      user && setName(user.displayName);\n      user && setEmail(user.email);\n      user && setUserId(user.uid);\n    });\n    // dbService.readAllContent().then(function (snapshot) {\n    //   if (snapshot.exists()) {\n    //     snapshot.forEach((child) => {\n    //       const results = child.val();\n    //       Object.keys(results).forEach((item) => {\n    //         results[item].hashtag.map((each) => {\n    //           setMenu((menu) => {\n    //             const update = [...menu, each];\n    //             return update;\n    //           });\n    //         });\n    //       });\n    //     });\n    //   }\n    // });\n  }, [authService]);\n  return (\n    <>\n      <header className={styles.header}>\n        <div className={styles.logo} onClick={goToHome}>\n          <div\n            ref={sidebarRef}\n            className={styles.sidebarContainer}\n            onClick={hideSidebar}\n          >\n            <div className={styles.sidebarInner}>\n              <Sidebar menu={menu} />\n            </div>\n          </div>\n          <p className={styles.sidebar} onClick={slideSidebar}>\n            Jemlog\n          </p>{\" \"}\n        </div>\n        <div className={styles.search}>\n          {name && (\n            <div className={styles.user} onClick={onBtnClick}>\n              {name}\n            </div>\n          )}\n          {!name && (\n            <div className={styles.user} onClick={() => history.push(\"/login\")}>\n              로그인\n            </div>\n          )}\n        </div>\n        <section\n          className={`${styles.container} ${display ? styles.show : undefined}`}\n          onMouseMove={onMouseMove}\n          onMouseLeave={onMouseLeave}\n        >\n          <MyModal onLogout={onLogout} />\n        </section>\n      </header>\n    </>\n  );\n});\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}