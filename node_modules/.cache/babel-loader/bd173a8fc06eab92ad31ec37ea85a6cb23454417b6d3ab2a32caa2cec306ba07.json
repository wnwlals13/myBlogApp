{"ast":null,"code":"var _jsxFileName = \"/Users/joojimin/Desktop/jimin/project/blogApp/src/components/content_add/content_add.jsx\",\n  _s = $RefreshSig$();\nimport React, { memo, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../../utils/navbar/navbar\";\nimport ContentForm from \"../content_form/content_form\";\nimport ContentPreview from \"../content_preview/content_preview\";\nimport styles from \"./content_add.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContentAdd = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(({\n  authService,\n  dbService,\n  FileInput\n}) => {\n  var _history$location, _history$location2, _history$location2$st;\n  _s();\n  const [contents, setContents] = useState([]);\n  const history = useNavigate();\n  const historyId = history === null || history === void 0 ? void 0 : (_history$location = history.location) === null || _history$location === void 0 ? void 0 : _history$location.state;\n  const historyArticle = history === null || history === void 0 ? void 0 : (_history$location2 = history.location) === null || _history$location2 === void 0 ? void 0 : (_history$location2$st = _history$location2.state) === null || _history$location2$st === void 0 ? void 0 : _history$location2$st.article;\n  const goToMain = () => {\n    history.push({\n      pathname: \"/\",\n      state: {\n        id: historyId ? historyId.id : null,\n        name: historyId ? historyId.name : null,\n        email: historyId ? historyId.email : null\n        // contentId: contents.id ? contents.id : null,\n      }\n    });\n  };\n  const addContent = content => {\n    setContents(contents => {\n      let update = {\n        ...contents\n      };\n      update[content.id] = content;\n      return update;\n    });\n    dbService.saveContent(historyId.id, content);\n    goToMain();\n  };\n  const updateContent = content => {\n    setContents(content);\n  };\n  useEffect(() => {\n    setContents(historyArticle);\n  }, [historyArticle]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      authService: authService,\n      dbService: dbService\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.addContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.inputWrap,\n        children: !historyArticle && /*#__PURE__*/_jsxDEV(ContentForm, {\n          contents: contents,\n          addContent: addContent,\n          updateContent: updateContent,\n          FileInput: FileInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.prevWrap,\n        children: contents && /*#__PURE__*/_jsxDEV(ContentPreview, {\n          contents: contents\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}, \"zUmhTijSTB0bAFTMQULHytGGxZI=\", false, function () {\n  return [useNavigate];\n})), \"zUmhTijSTB0bAFTMQULHytGGxZI=\", false, function () {\n  return [useNavigate];\n});\n_c2 = ContentAdd;\nexport default ContentAdd;\nvar _c, _c2;\n$RefreshReg$(_c, \"ContentAdd$memo\");\n$RefreshReg$(_c2, \"ContentAdd\");","map":{"version":3,"names":["React","memo","useEffect","useState","useNavigate","Navbar","ContentForm","ContentPreview","styles","jsxDEV","_jsxDEV","ContentAdd","_s","_c","authService","dbService","FileInput","_history$location","_history$location2","_history$location2$st","contents","setContents","history","historyId","location","state","historyArticle","article","goToMain","push","pathname","id","name","email","addContent","content","update","saveContent","updateContent","className","container","children","fileName","_jsxFileName","lineNumber","columnNumber","addContainer","inputWrap","prevWrap","_c2","$RefreshReg$"],"sources":["/Users/joojimin/Desktop/jimin/project/blogApp/src/components/content_add/content_add.jsx"],"sourcesContent":["import React, { memo, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../../utils/navbar/navbar\";\nimport ContentForm from \"../content_form/content_form\";\nimport ContentPreview from \"../content_preview/content_preview\";\nimport styles from \"./content_add.module.css\";\n\nconst ContentAdd = memo(({ authService, dbService, FileInput }) => {\n  const [contents, setContents] = useState([]);\n\n  const history = useNavigate();\n  const historyId = history?.location?.state;\n  const historyArticle = history?.location?.state?.article;\n  const goToMain = () => {\n    history.push({\n      pathname: \"/\",\n      state: {\n        id: historyId ? historyId.id : null,\n        name: historyId ? historyId.name : null,\n        email: historyId ? historyId.email : null,\n        // contentId: contents.id ? contents.id : null,\n      },\n    });\n  };\n  const addContent = (content) => {\n    setContents((contents) => {\n      let update = { ...contents };\n      update[content.id] = content;\n      return update;\n    });\n    dbService.saveContent(historyId.id, content);\n    goToMain();\n  };\n  const updateContent = (content) => {\n    setContents(content);\n  };\n\n  useEffect(() => {\n    setContents(historyArticle);\n  }, [historyArticle]);\n\n  return (\n    <section className={styles.container}>\n      <Navbar authService={authService} dbService={dbService} />\n\n      <div className={styles.addContainer}>\n        <div className={styles.inputWrap}>\n          {!historyArticle && (\n            <ContentForm\n              contents={contents}\n              addContent={addContent}\n              updateContent={updateContent}\n              FileInput={FileInput}\n            />\n          )}\n          {/* {historyArticle && (\n            <ContentEdit\n              contents={contents}\n              FileInput={FileInput}\n              reviseContent={reviseContent}\n            />\n          )} */}\n        </div>\n\n        <div className={styles.prevWrap}>\n          {contents && <ContentPreview contents={contents} />}\n        </div>\n      </div>\n    </section>\n  );\n});\n\nexport default ContentAdd;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}